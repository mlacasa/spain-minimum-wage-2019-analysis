# The Impact of Minimum Wage Increases on Employment and Income Distribution in Spain: Evidence from Administrative Census Data

[![DOI](https://img.shields.io/badge/DOI-PENDING-blue.svg)](https://doi.org/YOUR_DOI_HERE)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

This repository contains the full replication code and public data for the paper, "The Impact of Minimum Wage Increases on Employment and Income Distribution in Spain: Evidence from Administrative Census Data," authored by Marcos Lacasa-Cazcarra.

## Abstract

This paper evaluates the employment and distributional effects of Spain's unprecedented 22% minimum wage increase in 2019, leveraging administrative data covering the universe of formal-sector Spanish workers. Using difference-in-differences and complementary time-series methods, we identify a nuanced pattern of labor market adjustment: while aggregate employment continued growing, youth employment collapsed by 14% relative to its counterfactual trajectory. We demonstrate that the reform paradoxically *increased* inequality by 0.20%, as employment losses among the bottom deciles dominated wage gains among incumbent workers, contradicting the reform's core redistributive objective. Our findings highlight the critical importance of institutional context, particularly labor market dualism, in shaping minimum wage policy outcomes.

## Repository Structure

The repository is organized as follows to facilitate navigation and replication:

```
├── notebooks/              # Jupyter notebooks with the analysis workflow
├── data/                   # Publicly available and intermediate datasets
├── figures/                # Figures and plots generated by the notebooks
├── paper/                  # LaTeX source files for the manuscript and appendix
├── LICENSE                 # MIT License file
├── requirements.txt        # Python library dependencies
└── README.md               # This file
```

## Replication Instructions

To replicate the results presented in the paper, please follow these steps:

**1. Clone the Repository:**
```bash
git clone https://github.com/mlacasa/spain-minimum-wage-2019-analysis.git
cd spain-minimum-wage-2019-analysis
```

**2. Set Up the Python Environment:**
It is highly recommended to use a virtual environment. The required libraries are listed in `requirements.txt`.
```bash
python -m venv venv
source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
pip install -r requirements.txt
```

**3. Data Availability:**
*   **Public and Intermediate Data:** The `data/` folder contains all necessary public data (e.g., from INE) and key intermediate datasets generated during the analysis.
*   **Confidential Data:** The core analysis relies on confidential administrative microdata from the Spanish Tax Agency (Agencia Tributaria). Due to legal restrictions, these raw data cannot be shared in this repository. Researchers can request access directly through the official channels of the Agencia Tributaria.

**4. Run the Analysis Notebooks:**
The Jupyter notebooks in the `notebooks/` directory should be run in the following logical order. The filenames reflect different stages of the research process; their roles in the final analysis are clarified below.

*   **Part 1: Data Cleaning and Preparation**
    *   `Fase1.ipynb`: Initial data ingestion and cleaning of primary sources.
    *   `fase1b.ipynb`: Additional cleaning and harmonization steps.
    *   `Eco2SegSocial.ipynb`: Merging of economic and Social Security data.
    *   `Afiliados.ipynb`: Processing of employment affiliation records.

*   **Part 2: Main Analysis and Results**
    *   `2TrabajoEco.ipynb`: Core Difference-in-Differences and heterogeneity analysis. Generates main tables and figures.
    *   `Analisis3.ipynb`: Time-series analysis, robustness checks, and macroeconomic validation.

*   **Part 3: Specific Analyses and Finalizations**
    *   `Respuesta3.ipynb`: Counterfactual inequality simulations and related analyses.
    *   `MejoraV30.ipynb`: Final figure generation and polishing for the manuscript.

## Description of Key Files

### Jupyter Notebooks (`notebooks/`)
| Filename              | Description                                                                  |
|-----------------------|------------------------------------------------------------------------------|
| `Fase1.ipynb`         | **Initial Data Processing:** Loads raw data and performs primary cleaning.   |
| `fase1b.ipynb`        | **Data Harmonization:** Further cleaning and variable harmonization.         |
| `Eco2SegSocial.ipynb` | **Data Merging:** Combines economic data with Social Security records.       |
| `Afiliados.ipynb`     | **Employment Records:** Processes monthly employment affiliation data.         |
| `2TrabajoEco.ipynb`   | **Main DiD Analysis:** Runs the core econometric models and heterogeneity tests. |
| `Analisis3.ipynb`     | **Time-Series & Robustness:** Conducts macroeconomic validation and robustness checks.|
| `Respuesta3.ipynb`    | **Inequality Simulation:** Performs the counterfactual Gini coefficient analysis. |
| `MejoraV30.ipynb`     | **Final Visualization:** Generates and exports the final figures for the paper.|

### Datasets (`data/`)
| Filename                   | Description                                                             | Source                               |
|----------------------------|-------------------------------------------------------------------------|--------------------------------------|
| `distribucionSalarios.xlsx`| Aggregate salary distribution data by income brackets.                  | Spanish Tax Agency (Aggregate Data)  |
| `todos_datasets.xlsx`      | A master file containing merged public macroeconomic time series.         | Generated by `Fase1.ipynb`           |
| `10926.csv`                | Public time series, likely unemployment rate or a related indicator.    | INE (Instituto Nacional de Estadística) |
| `65096.csv`                | Public time series, likely GDP or a related national accounts variable. | INE (Instituto Nacional de Estadística) |

## Citation

If you use the code or findings from this paper, please cite:

> Lacasa-Cazcarra, Marcos. [Year]. "The Impact of Minimum Wage Increases on Employment and Income Distribution in Spain: Evidence from Administrative Census Data." *ILR Review*. [Forthcoming/Volume(Issue): pages].

**BibTeX:**
```bibtex
@article{LacasaCazcarra2024SpainMW,
  author    = {Lacasa-Cazcarra, Marcos},
  title     = {The Impact of Minimum Wage Increases on Employment and Income Distribution in Spain: Evidence from Administrative Census Data},
  journal   = {ILR Review},
  year      = {2024},
  note      = {Replication repository: https://github.com/mlacasa/spain-minimum-wage-2019-analysis}
}
```

## License
This project's code is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Contact
For any questions regarding the code or the analysis, please open an issue in this repository or contact Marcos Lacasa-Cazcarra at [tu-email@ejemplo.com].
